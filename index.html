<!DOCTYPE html>
<html>

<head>
	<title>Calculator</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
	<div class="calculator">
		<div class="display">
			<input type="number" id="inputContent" type="text" value="0" readonly>
		</div>
		<div class="buttons">
			<button class="number" onclick="AddNumbers(7)" value="7">7</button>
			<button class="number" onclick="AddNumbers(8)" value="8">8</button>
			<button class="number" onclick="AddNumbers(9)" value="9">9</button>
			<button class="operator" onclick="Calculate(this.innerText)">/</button>
			<button class="number" onclick="AddNumbers(4)" value="4">4</button>
			<button class="number" onclick="AddNumbers(5)" value="5">5</button>
			<button class="number" onclick="AddNumbers(6)" value="6">6</button>
			<button class="operator" onclick="Calculate(this.innerText)">*</button>
			<button class="number" onclick="AddNumbers(1)" value="1">1</button>
			<button class="number" onclick="AddNumbers(2)" value="2">2</button>
			<button class="number" onclick="AddNumbers(3)" value="3">3</button>
			<button class="operator" onclick="Calculate(this.innerText)">-</button>
			<button class="number" onclick="AddNumbers(0)" value="0">0</button>
			<button class="number">.</button>
			<button class="equal" onclick="Calculate(this.innerText)">=</button>
			<button class="operator" onclick="Calculate(this.innerText)">+</button>
			<button class="clear">C</button>
		</div>
	</div>

	<script type="text/javascript">

		let firstClick = false;
		let currentNumber = 0;
		let setOperator = null;
		let savedNumber = 0;
		let valueHasBeenAdded = false;

		const ClearInputValue = () => {
			document.getElementById("inputContent").value = "";
		}

		const AppendInputValue = (value) => {
			document.getElementById("inputContent").value += value;
		}

		const AddNumbers = (value) => {

			if (firstClick == true && valueHasBeenAdded == true) {

			}

			if (firstClick == true) {
				AppendInputValue(value);
				currentNumber = currentNumber + value.toString();
				console.log("secondclick " + currentNumber)
			}

			/* Check if first click and set first click to true */
			if (firstClick == false) {
				ClearInputValue();
				AppendInputValue(value);
				currentNumber = value.toString();
				firstClick = true;
				console.log("firstclick " + currentNumber)
			}

		}

		const Calculate = (calcType) => {

			const operator = calcType;

			if (valueHasBeenAdded == true) {

				const ShowResult = () => {

					if (setOperator == "+") {
						document.getElementById("inputContent").value = parseInt(savedNumber) + parseInt(currentNumber);
					}
					if (setOperator == "-") {
						document.getElementById("inputContent").value = parseInt(savedNumber) - parseInt(currentNumber);
					}
					if (setOperator == "*") {
						document.getElementById("inputContent").value = parseInt(savedNumber) * parseInt(currentNumber);
					}
					if (setOperator == "/") {
						document.getElementById("inputContent").value = parseInt(savedNumber) / parseInt(currentNumber);
					}
				}

				switch (calcType) {
					case "+":
						console.log("det er en +");
						document.getElementById("inputContent").value = parseInt(savedNumber) + parseInt(currentNumber);
						break;
					case "-":
						document.getElementById("inputContent").value = parseInt(savedNumber) - parseInt(currentNumber);
						console.log("det er en -");
						break;
					case "*":
						document.getElementById("inputContent").value = parseInt(savedNumber) * parseInt(currentNumber);
						break;
					case "/":
						document.getElementById("inputContent").value = parseInt(savedNumber) / parseInt(currentNumber);
						break;
					default:
						// Runes if = button is clicked
						console.log("du trykkede p√• =")
						ShowResult();
				}

			}

			else {
				firstClick = false;
				savedNumber = currentNumber;
				setOperator = calcType;
				currentNumber = "";
				valueHasBeenAdded = true;



				console.log("saved:" + savedNumber)
				console.log(setOperator)
			}
		}

	</script>

</body>

</html>